Renesas RX64M, RX71M, RX66T, RX72N CAN sample
=========

[Japanese](READMEja.md)
   
## Overview

Sample program for CAN communication using RX microcontroller   
A CAN bus transceiver has to be connected to the CAN port.   
If there are multiple channels of CAN, the communication channel is switched.   
The environment variable "MULTI" is enabled in "main.cpp".

## Description
- main.cpp
- RX64M/Makefile
- RX71M/Makefile
- RX66T/Makefile
- RX72N/Makefile
- README.md
- READMEja.md

## Hardware preparation

- If the base crystal is different, change the typedef parameters.
- The Makefile declares a set frequency for each module.
- RX64M: 120MHz (12MHz)
- RX71M: 240MHz (12MHz)
- RX66T: 160MHz (10MHz)
- RX72N: 240MHz (16MHz) for 'RX72N Envision Kit'
- Connect the LED to the specified port.
- In the case of the RX72N Envision kit, it utilizes the blue LED on the board.
- Connect the CAN bus transceiver to the CAN port.
- Connect the appropriate terminator resistor to the CAN bus transceiver.
- The CAN bus transceiver must be of the 3.3 V operating variety.
   
### Typical varieties of CAN bus transceivers.

Texas Instruments: SN65HVD23x
   
### In the case of RX64M/RX71M

- Multi-channel support
   
### In the case of the RX66T

- single channel

### In the case of the RX72N Envision Kit

- The program supports multiple channels, but it is a single channel because it does not have access to the CAN port.

## Resource preparation
- None
   
## How to build

- Move to each platform directory and make it.
- Write the led_sample.mot file.
   
## Operation

- The LED flashes every 0.25 seconds.
- The terminal makes a serial connection and communicates with interactive commands.
   
## Dialogue Commands

In an interactive manner, you can send and receive CAN data.

- When you start the program, it always receives all IDs.
- If the number of IDs exceeds the limit, the program may crash due to lack of memory.
- The send_loop command continuously sends IDs and data generated by random numbers.
- A function to supplement the IDs (map) is provided for channel 0 only.
- On the RX64M/RX71M, two channels of CAN are enabled.
- Receiving CAN1 (two channels) always displays the data received.
- MB-no is the number of the mailbox.
- The commands related to the mailbox are for debugging.

Translated with www.DeepL.com/Translator (free version)

 ```
    ch CH-no               set current CAN channel (CH-no: 0, 1)
    send CAN-ID [data...]  send data frame
    stat MB-no             stat mail-box (MB-no: 0 to 31)
    list MB-no             list mail-box (MB-no: 0 to 31)
    map [CAN-ID]           Display all collected IDs
    clear                  clear map
    dump CAN-ID            dump frame data
    send_loop NUM          random ID, random DATA, send loop
    help                   command list (this)
``` 
   
-----
   
License
----

[MIT](../LICENSE)
